Version 1
SubGoalCombiner SGC_AND
INITSECTION
KBSECTION

//REGION GRENADE_ENTHUSIAST
IF
CharacterStatusApplied(_Enemy, "LLENEMY_GRANADA", _)
THEN
LeaderLib_ToggleScripts_EnableScriptForObject(_Enemy, "LLENEMY_Granada_Active", "EnemyUpgradeOverhaul");

IF
CharacterStatusApplied(_Enemy, "LLENEMY_GRANADA", _)
AND
ObjectGetFlag(_Enemy, "LLENEMY_AddedGrenadeStash", 0)
THEN
CharacterGiveReward(_Enemy, "LLENEMY_GranadaStatus_GrenadeStash", 1);
//CharacterGiveReward(CharacterGiveReward, "CheatGrenades", 1); // For crazy people
ObjectSetFlag(_Enemy, "LLENEMY_AddedGrenadeStash", 0);
//END_REGION

//REGION SPECIAL_UPGRADES
IF
CharacterStatusApplied(_Character, "LLENEMY_DOUBLE_DIP", _)
THEN
PlayEffect(_Character, "LLENEMY_FX_Status_DoubleDip_Overlay_01", "");
LLENEMY_Upgrades_ResetRolledFlags(_Character);
LLENEMY_Upgrades_RollForUpgrades(_Character);
LLENEMY_Upgrades_OnRollingDone(_Character);
RemoveStatus(_Character, "LLENEMY_DOUBLE_DIP");
//END_REGION

//REGION ACTIVE_DEFENSE_TYPES
/* [OSITOOLS_ONLY]
IF
CharacterStatusApplied(_Char, "LLENEMY_ACTIVATE_FLAMING_TONGUES", _Cause)
AND
NRD_ApplyActiveDefense(_Char, "FLAMING_TONGUES", -1.0, _Handle)
THEN
DB_NOOP(1);

IF
CharacterStatusApplied(_Char, "LLENEMY_ACTIVATE_HEALING_TEARS", _Cause)
AND
NRD_ApplyActiveDefense(_Char, "HEALING_TEARS", -1.0, _Handle)
THEN
DB_NOOP(1);
*/
//END_REGION
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LaughingLeader_EnemyUpgradeOverhaul"